<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9WMYL5KKJK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-9WMYL5KKJK');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Clever Lottery Odds Filter - Generate smart lottery combinations using statistical filters. Improve your lottery strategy with our advanced number filtering tool.">
    <meta name="keywords" content="lottery filter, lottery numbers, lottery strategy, lottery combinations, lottery odds, lottery generator, lottery tools">
    <meta name="author" content="Clever Lottery Odds Filter">
    <meta property="og:title" content="Clever Lottery Odds Filter - Smart Lottery Number Generator">
    <meta property="og:description" content="Generate smarter lottery combinations using statistical filters and proven strategies. Improve your lottery odds with our advanced filtering tool.">
    <meta property="og:type" content="website">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://lottery-filters.onrender.com/">
    
    <title>Clever Lottery Odds Filter - Smart Lottery Number Generator</title>
    
    <!-- AdSense verification meta tag -->
    <meta name="google-adsense-account" content="ca-pub-9929169257372776">
    
    <!-- AdSense script -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9929169257372776" crossorigin="anonymous"></script>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            padding: 20px;
            background-color: #f0f2f5;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
            max-width: 1000px;
        }
        .btn-group {
            margin-bottom: 30px;
            gap: 10px;
        }
        .btn {
            padding: 12px 24px;
            font-weight: 500;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .btn-primary {
            background-color: #4361ee;
            border: none;
        }
        .btn-success {
            background-color: #2ec4b6;
            border: none;
        }
        .results-container {
            margin-top: 30px;
        }
        .combination {
            background-color: #f8f9fa;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
        }
        .combination:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .numbers-group {
            display: flex;
            gap: 8px;
            margin: 10px 0;
            flex-wrap: wrap;
        }
        .number-ball {
            width: 40px;
            height: 40px;
            background-color: #4361ee;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1em;
        }
        .stats {
            background-color: #e9ecef;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 1px solid #dee2e6;
        }
        .stats h4 {
            color: #2b2d42;
            margin-bottom: 15px;
        }
        .form-control {
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }
        .form-label {
            font-weight: 500;
            color: #2b2d42;
        }
        .pagination {
            margin-top: 30px;
        }
        .page-link {
            padding: 12px 18px;
            color: #4361ee;
        }
        .page-item.active .page-link {
            background-color: #4361ee;
            border-color: #4361ee;
        }
        .copy-btn {
            background: none;
            border: none;
            color: #4361ee;
            cursor: pointer;
            padding: 5px;
            margin-left: 10px;
        }
        .copy-btn:hover {
            color: #2ec4b6;
        }
        .toast-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        .ad-container {
            margin: 20px 0;
            min-height: 90px;
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
            overflow: hidden;
        }
        .ad-container-sidebar {
            min-height: 600px;
            margin: 0 0 20px 0;
        }
        @media (max-width: 768px) {
            .ad-container-sidebar {
                min-height: 250px;
                margin: 20px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Top Ad Space -->
        <div class="ad-container">
            <!-- AdSense ad unit will go here -->
            <div id="top-ad"></div>
        </div>

        <h1 class="mb-4 text-center">Clever Lottery Odds Filter</h1>
        
        <div class="row">
            <!-- Main content column -->
            <div class="col-lg-9">
                <div class="row mb-4">
                    <div class="col-md-4">
                        <label for="totalNumbers" class="form-label">
                            Total Numbers
                            <i class="fas fa-question-circle text-primary" 
                               data-bs-toggle="tooltip" 
                               title="The total range of numbers in your lottery game (e.g., 37 for a game with numbers 1-37)"></i>
                        </label>
                        <input type="number" class="form-control" id="totalNumbers" value="37" min="1">
                    </div>
                    <div class="col-md-4">
                        <label for="numbersToPick" class="form-label">
                            Numbers to Pick
                            <i class="fas fa-question-circle text-primary" 
                               data-bs-toggle="tooltip" 
                               title="How many numbers you need to pick for your ticket (e.g., 6 for a 6/37 game)"></i>
                        </label>
                        <input type="number" class="form-control" id="numbersToPick" value="6" min="1">
                    </div>
                    <div class="col-md-4">
                        <label for="numSets" class="form-label">
                            Number of Random Sets
                            <i class="fas fa-question-circle text-primary" 
                               data-bs-toggle="tooltip" 
                               title="How many random combinations you want to generate (max 1000)"></i>
                        </label>
                        <input type="number" class="form-control" id="numSets" value="5" min="1" max="1000">
                    </div>
                </div>

                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="filterThreeEven">
                            <label class="form-check-label" for="filterThreeEven">
                                Filter for exactly 3 even numbers
                                <i class="fas fa-question-circle text-primary" 
                                   data-bs-toggle="tooltip" 
                                   title="Only show combinations with exactly 3 even numbers, which some players believe provides better odds"></i>
                            </label>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="filterThreeConsecutive">
                            <label class="form-check-label" for="filterThreeConsecutive">
                                Filter out sets with 3+ consecutive numbers
                                <i class="fas fa-question-circle text-primary" 
                                   data-bs-toggle="tooltip" 
                                   title="Remove combinations that have 3 or more consecutive numbers, as these are statistically less common in winning combinations"></i>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-center mb-4">
                    <div class="card p-3 bg-light">
                        <p class="mb-0">
                            <i class="fas fa-info-circle text-primary me-2"></i>
                            This tool helps you generate and filter lottery number combinations. Use the options above to customize your combinations based on various strategies. Click the copy button next to any combination to easily copy it to your clipboard.
                        </p>
                    </div>
                </div>

                <div class="d-flex justify-content-center">
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="generateCombinations()">
                            <i class="fas fa-random me-2"></i>Generate Combinations
                        </button>
                        <button class="btn btn-success" onclick="generateRandomSets()">
                            <i class="fas fa-dice me-2"></i>Generate Random Sets
                        </button>
                    </div>
                </div>

                <!-- Results section -->
                <div id="stats" class="stats d-none"></div>
                <div id="results" class="results-container"></div>
                <div id="pagination" class="d-flex justify-content-center"></div>
            </div>
            
            <!-- Sidebar for ads -->
            <div class="col-lg-3">
                <div class="ad-container ad-container-sidebar">
                    <!-- AdSense sidebar ad unit will go here -->
                    <div id="sidebar-ad"></div>
                </div>
            </div>
        </div>
        
        <!-- Bottom Ad Space -->
        <div class="ad-container">
            <!-- AdSense ad unit will go here -->
            <div id="bottom-ad"></div>
        </div>
    </div>

    <div class="toast-container"></div>

    <!-- Schema.org markup for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Clever Lottery Odds Filter",
        "description": "A smart lottery number generator that helps users create filtered combinations based on statistical patterns and strategies.",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": [
            "Generate lottery combinations",
            "Filter for even/odd number distribution",
            "Avoid consecutive number patterns",
            "Statistical analysis of combinations",
            "Easy number copying feature"
        ]
    }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Initialize tooltips
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        })

        let currentPage = 1;
        
        function showToast(message) {
            const toastContainer = document.querySelector('.toast-container');
            const toast = document.createElement('div');
            toast.className = 'toast show';
            toast.setAttribute('role', 'alert');
            toast.innerHTML = `
                <div class="toast-body bg-success text-white rounded">
                    ${message}
                </div>
            `;
            toastContainer.appendChild(toast);
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        function copyNumbers(numbers) {
            navigator.clipboard.writeText(numbers.join(', ')).then(() => {
                showToast('Numbers copied to clipboard!');
            });
        }
        
        function displayStats(stats) {
            const statsDiv = document.getElementById('stats');
            statsDiv.classList.remove('d-none');
            
            statsDiv.innerHTML = `
                <h4><i class="fas fa-chart-bar me-2"></i>Statistics</h4>
                <div class="row">
                    <div class="col-md-6">
                        <p><i class="fas fa-calculator me-2"></i>Total Sets: ${stats.total_sets}</p>
                        <p><i class="fas fa-plus-minus me-2"></i>Average Sum: ${stats.avg_sum.toFixed(2)}</p>
                        <p><i class="fas fa-arrow-down me-2"></i>Min Sum: ${stats.min_sum}</p>
                        <p><i class="fas fa-arrow-up me-2"></i>Max Sum: ${stats.max_sum}</p>
                    </div>
                    <div class="col-md-6">
                        <p><i class="fas fa-dice-two me-2"></i>Average Even Numbers: ${stats.avg_even_count.toFixed(2)}</p>
                        <p><i class="fas fa-link me-2"></i>Sets with Consecutive Numbers: ${stats.consecutive_count}</p>
                        <p><i class="fas fa-link me-2"></i>Sets with 3+ Consecutive Numbers: ${stats.three_consecutive_count}</p>
                    </div>
                </div>
            `;
        }

        function displayCombinations(data) {
            const resultsDiv = document.getElementById('results');
            const paginationDiv = document.getElementById('pagination');
            
            resultsDiv.innerHTML = '';
            data.combinations.forEach(combo => {
                const div = document.createElement('div');
                div.className = 'combination';
                div.innerHTML = `
                    <div class="d-flex justify-content-between align-items-center">
                        <strong><i class="fas fa-hashtag me-2"></i>Numbers:</strong>
                        <button class="copy-btn" onclick="copyNumbers(${JSON.stringify(combo.numbers)})">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <div class="numbers-group">
                        ${combo.numbers.map(num => `<div class="number-ball">${num}</div>`).join('')}
                    </div>
                    <strong><i class="fas fa-plus me-2"></i>Sum:</strong> ${combo.sum}
                `;
                resultsDiv.appendChild(div);
            });

            // Create pagination
            const totalPages = data.total_pages;
            let paginationHTML = `
                <nav>
                    <ul class="pagination">
                        <li class="page-item ${currentPage === 1 ? 'disabled' : ''}">
                            <a class="page-link" href="#" onclick="changePage(${currentPage - 1})">
                                <i class="fas fa-chevron-left"></i>
                            </a>
                        </li>
            `;

            for (let i = Math.max(1, currentPage - 2); i <= Math.min(totalPages, currentPage + 2); i++) {
                paginationHTML += `
                    <li class="page-item ${i === currentPage ? 'active' : ''}">
                        <a class="page-link" href="#" onclick="changePage(${i})">${i}</a>
                    </li>
                `;
            }

            paginationHTML += `
                        <li class="page-item ${currentPage === totalPages ? 'disabled' : ''}">
                            <a class="page-link" href="#" onclick="changePage(${currentPage + 1})">
                                <i class="fas fa-chevron-right"></i>
                            </a>
                        </li>
                    </ul>
                </nav>
            `;
            paginationDiv.innerHTML = paginationHTML;
        }

        function displayRandomSets(data) {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';
            
            displayStats(data.stats);
            
            data.random_sets.forEach(set => {
                const div = document.createElement('div');
                div.className = 'combination';
                div.innerHTML = `
                    <div class="d-flex justify-content-between align-items-center">
                        <strong><i class="fas fa-hashtag me-2"></i>Numbers:</strong>
                        <button class="copy-btn" onclick="copyNumbers(${JSON.stringify(set.numbers)})">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <div class="numbers-group">
                        ${set.numbers.map(num => `<div class="number-ball">${num}</div>`).join('')}
                    </div>
                    <div class="mt-2">
                        <p><strong><i class="fas fa-plus me-2"></i>Sum:</strong> ${set.sum}</p>
                        <p><strong><i class="fas fa-dice-two me-2"></i>Even Numbers:</strong> ${set.even_count}</p>
                        <p><strong><i class="fas fa-link me-2"></i>Has Consecutive Numbers:</strong> ${set.has_consecutive ? 'Yes' : 'No'}</p>
                        <p><strong><i class="fas fa-link me-2"></i>Has 3+ Consecutive Numbers:</strong> ${set.has_three_consecutive ? 'Yes' : 'No'}</p>
                    </div>
                `;
                resultsDiv.appendChild(div);
            });
        }

        function changePage(page) {
            currentPage = page;
            generateCombinations();
        }

        async function generateCombinations() {
            const totalNumbers = parseInt(document.getElementById('totalNumbers').value);
            const numbersToPick = parseInt(document.getElementById('numbersToPick').value);
            
            try {
                const response = await fetch('/combinations', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        totalNumbers,
                        numbersToPick,
                        page: currentPage
                    }),
                });
                
                const data = await response.json();
                if (data.error) {
                    alert(data.error);
                    return;
                }
                
                displayCombinations(data);
            } catch (error) {
                console.error('Error:', error);
                alert('An error occurred while generating combinations');
            }
        }

        async function generateRandomSets() {
            const totalNumbers = parseInt(document.getElementById('totalNumbers').value);
            const numbersToPick = parseInt(document.getElementById('numbersToPick').value);
            const numSets = parseInt(document.getElementById('numSets').value);
            const filterThreeEven = document.getElementById('filterThreeEven').checked;
            const filterThreeConsecutive = document.getElementById('filterThreeConsecutive').checked;
            
            try {
                const response = await fetch('/random-sets', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        totalNumbers,
                        numbersToPick,
                        numSets,
                        filterThreeEven,
                        filterThreeConsecutive
                    }),
                });
                
                const data = await response.json();
                if (data.error) {
                    alert(data.error);
                    return;
                }
                
                displayRandomSets(data);
            } catch (error) {
                console.error('Error:', error);
                alert('An error occurred while generating random sets');
            }
        }
    </script>
</body>
</html>
